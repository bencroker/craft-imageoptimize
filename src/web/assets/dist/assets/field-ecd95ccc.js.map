{"version":3,"file":"field-ecd95ccc.js","sources":["../../../../../buildchain/src/js/OptimizedImagesField.js"],"sourcesContent":["/* global $ */\n/* global Craft */\n/* global Garnish */\n\n/**\n * Image Optimize plugin for Craft CMS\n *\n * OptimizedImages Field JS\n *\n * @author    nystudio107\n * @copyright Copyright (c) 2017 nystudio107\n * @link      https://nystudio107.com\n * @package   ImageOptimize\n * @since     1.2.0\n */\n\n/**\n * Convert the passed in bytes into a human readable format\n *\n * @param bytes\n * @param si\n * @param dp\n * @returns {string}\n */\nfunction humanFileSize(bytes, si = false, dp = 1) {\n  const thresh = si ? 1000 : 1024;\n\n  if (Math.abs(bytes) < thresh) {\n    return bytes + ' B';\n  }\n\n  const units = si\n    ? ['kB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB']\n    : ['KiB', 'MiB', 'GiB', 'TiB', 'PiB', 'EiB', 'ZiB', 'YiB'];\n  let u = -1;\n  const r = 10 ** dp;\n\n  do {\n    bytes /= thresh;\n    ++u;\n  } while (Math.round(Math.abs(bytes) * r) / r >= thresh && u < units.length - 1);\n\n\n  return bytes.toFixed(dp) + ' ' + units[u];\n}\n\n/**\n * After an image has loaded, query the performance API for the decodedBodySize\n *\n * @param image\n */\nfunction imageLoaded(image) {\n  const url = image.src || image.href;\n  if (url && url.length > 0) {\n    const iTime = performance.getEntriesByName(url)[0];\n    if (typeof iTime !== \"undefined\") {\n      const elem = image.parentNode.parentNode.parentNode.nextElementSibling.querySelector('.io-file-size');\n      if (elem) {\n        elem.innerHTML = humanFileSize(iTime.decodedBodySize, true);\n      }\n    }\n  }\n}\n\n(function ($, window, document) {\n\n  const pluginName = \"ImageOptimizeOptimizedImages\",\n    defaults = {};\n\n  // Plugin constructor\n  function Plugin(element, options) {\n    this.element = element;\n\n    this.options = $.extend({}, defaults, options);\n\n    this._defaults = defaults;\n    this._name = pluginName;\n\n    this.init();\n  }\n\n  Plugin.prototype = {\n\n    init: function () {\n      $(function () {\n\n        /* -- _this.options gives us access to the $jsonVars that our FieldType passed down to us */\n\n        const images = document.querySelectorAll(\"img.io-preview-image\");\n        for (const image of images) {\n          if (image.complete) {\n            imageLoaded(image);\n          } else {\n            image.addEventListener('load', (event) => {\n              imageLoaded(event.target);\n            });\n          }\n        }\n      });\n    }\n  };\n\n  // A really lightweight plugin wrapper around the constructor,\n  // preventing against multiple instantiations\n  $.fn[pluginName] = function (options) {\n    return this.each(function () {\n      if (!$.data(this, \"plugin_\" + pluginName)) {\n        $.data(this, \"plugin_\" + pluginName,\n          new Plugin(this, options));\n      }\n    });\n  };\n\n})($, window, document);\n\nCraft.OptimizedImagesInput = Garnish.Base.extend(\n  {\n    id: null,\n    inputNamePrefix: null,\n    inputIdPrefix: null,\n\n    $container: null,\n    $blockContainer: null,\n    $addBlockBtnContainer: null,\n    $addBlockBtnGroup: null,\n    $addBlockBtnGroupBtns: null,\n\n    blockSort: null,\n    blockSelect: null,\n\n    init: function (id, inputNamePrefix) {\n      this.id = id;\n      this.inputNamePrefix = inputNamePrefix;\n      this.inputIdPrefix = Craft.formatInputId(this.inputNamePrefix);\n\n      this.$container = $('#' + this.id);\n      this.$blockContainer = this.$container.children('.variant-blocks');\n      this.$addBlockBtnContainer = this.$container.children('.buttons');\n      this.$addBlockBtnGroup = this.$addBlockBtnContainer.children('.btngroup');\n      this.$addBlockBtnGroupBtns = this.$addBlockBtnGroup.children('.btn');\n\n      // Create our action button menus\n      this.$blockContainer.find('> > .actions > .settings').each((index, value) => {\n        const $value = $(value);\n        let menuBtn;\n        if ($value.data('menubtn')) {\n          menuBtn = $value.data('menubtn');\n        } else {\n          menuBtn = new Garnish.MenuBtn(value);\n        }\n        menuBtn.menu.settings.onOptionSelect = $.proxy(function (option) {\n          this.onMenuOptionSelect(option, menuBtn);\n        }, this);\n      });\n\n      const $blocks = this.$blockContainer.children();\n\n      this.blockSort = new Garnish.DragSort($blocks, {\n        handle: '> .actions > .move',\n        axis: 'y',\n        collapseDraggees: true,\n        magnetStrength: 4,\n        helperLagBase: 1.5,\n        helperOpacity: 0.9,\n        onSortChange: $.proxy(function () {\n          this.resetVariantBlockOrder();\n        }, this)\n      });\n\n      this.addListener(this.$addBlockBtnGroupBtns, 'click', function () {\n        this.addVariantBlock(null);\n      });\n\n      this.addAspectRatioHandlers();\n      this.reIndexVariants();\n    },\n\n    onMenuOptionSelect: function (option, menuBtn) {\n      const $option = $(option);\n      const container = menuBtn.$btn.closest('.matrixblock');\n\n      switch ($option.data('action')) {\n        case 'add': {\n          this.addVariantBlock(container);\n          break;\n        }\n        case 'delete': {\n          if (!$option.hasClass('disabled')) {\n            this.deleteVariantBlock(container);\n          }\n          break;\n        }\n      }\n    },\n\n    getHiddenBlockCss: function ($block) {\n      return {\n        opacity: 0,\n        marginBottom: -($block.outerHeight())\n      };\n    },\n\n    // Re-index all of the variant blocks\n    reIndexVariants: function () {\n      this.$blockContainer = this.$container.children('.variant-blocks');\n      const $blocks = this.$blockContainer.children();\n      $blocks.each(function (index, value) {\n        const variantIndex = index;\n        const $value = $(value);\n        const elements = $value.find('div .field, label, input, select');\n\n        // Re-index all of the element attributes\n        $(elements).each(function (index, value) {\n          // id attributes\n          let str = $(value).attr('id');\n          if (str) {\n            str = str.replace(/-([0-9]+)-/g, \"-\" + variantIndex + \"-\");\n            $(value).attr('id', str);\n          }\n          // for attributes\n          str = $(value).attr('for');\n          if (str) {\n            str = str.replace(/-([0-9]+)-/g, \"-\" + variantIndex + \"-\");\n            $(value).attr('for', str);\n          }\n          // Name attributes\n          str = $(value).attr('name');\n          if (str) {\n            str = str.replace(/\\[([0-9]+)]/g, \"[\" + variantIndex + \"]\");\n            $(value).attr('name', str);\n          }\n        });\n      });\n      let disabledDeleteItem = false;\n      // If we only have one block, don't allow it to be deleted\n      if ($blocks.length == 1) {\n        disabledDeleteItem = true;\n      }\n      $blocks.find('> .actions > .settings').each(function (index, value) {\n        const $value = $(value);\n        let menuBtn;\n        if ($value.data('menubtn')) {\n          menuBtn = $value.data('menubtn');\n          if (typeof menuBtn.menu.$options !== \"undefined\") {\n            let menuItem = $(menuBtn.menu.$options[1]);\n            if (typeof menuItem !== \"undefined\") {\n              if (disabledDeleteItem) {\n                menuItem.addClass('disabled').disable();\n              } else {\n                menuItem.removeClass('disabled').enable();\n              }\n            }\n          }\n        }\n      });\n    },\n\n    addAspectRatioHandlers: function () {\n      this.addListener($('.lightswitch'), 'click', function (ev) {\n        const $target = $(ev.target);\n        const $block = $target.closest('.matrixblock');\n        $block.find('.io-aspect-ratio-wrapper').slideToggle();\n      });\n      this.addListener($('.io-select-ar-box'), 'click', function (ev) {\n        const $target = $(ev.target);\n        let x = $(ev.target).data('x'),\n          y = $(ev.target).data('y'),\n          custom = $(ev.target).data('custom'),\n          field, $block;\n        // Select the appropriate aspect ratio\n        $block = $target.closest('.matrixblock');\n        $block.find('.io-select-ar-box').each(function (index, value) {\n          $(value).removeClass('io-selected-ar-box');\n        });\n        $target.addClass('io-selected-ar-box');\n\n        // Handle setting the actual field values\n        if (custom) {\n          $block.find('.io-custom-ar-wrapper').slideDown();\n        } else {\n          $block.find('.io-custom-ar-wrapper').slideUp();\n          field = $block.find('input')[2];\n          $(field).val(x);\n          field = $block.find('input')[3];\n          $(field).val(y);\n        }\n      });\n    },\n\n    addVariantBlock: function (container) {\n      let $block = $(this.$blockContainer.children()[0]).clone();\n      // Reset to default values\n      $block.find('.io-select-ar-box').each((index, value) => {\n        if (index === 0) {\n          $(value).addClass('io-selected-ar-box');\n        } else {\n          $(value).removeClass('io-selected-ar-box');\n        }\n      });\n      $block.find('.io-custom-ar-wrapper').hide();\n      let field = $block.find('input')[0];\n      $(field).val(1200);\n      field = $block.find('input')[1];\n      $(field).val(1);\n      field = $block.find('input')[2];\n      $(field).val(16);\n      field = $block.find('input')[3];\n      $(field).val(9);\n      field = $block.find('select')[0];\n      $(field).val(82);\n      field = $block.find('select')[1];\n      $(field).val('jpg');\n      $block.css(this.getHiddenBlockCss($block)).velocity({\n        opacity: 1,\n        'margin-bottom': 10\n      }, 'fast', $.proxy(function () {\n        // Insert the block in the right place\n        if (container) {\n          $block.insertBefore(container);\n        } else {\n          $block.appendTo(this.$blockContainer);\n        }\n        // Update the Garnish UI controls\n        this.blockSort.addItems($block);\n        this.addAspectRatioHandlers();\n        $block.find('.settings').each((index, value) => {\n          let $value = $(value),\n            menuBtn,\n            menu;\n\n          menu = this.$container.find('.io-menu-clone > .menu').clone();\n          $(menu).insertAfter($value);\n          menuBtn = new Garnish.MenuBtn(value);\n\n          menuBtn.menu.settings.onOptionSelect = $.proxy(function (option) {\n            this.onMenuOptionSelect(option, menuBtn);\n          }, this);\n        });\n        this.reIndexVariants();\n      }, this));\n    },\n\n    deleteVariantBlock: function (container) {\n      container.velocity(this.getHiddenBlockCss(container), 'fast', $.proxy(() => {\n        container.remove();\n        this.reIndexVariants();\n      }, this));\n    },\n\n    resetVariantBlockOrder: function () {\n      this.reIndexVariants();\n    }\n  });\n\n// Accept HMR as per: https://vitejs.dev/guide/api-hmr.html\nif (import.meta.hot) {\n  import.meta.hot.accept(() => {\n    console.log(\"HMR\")\n  });\n}\n\n// Re-broadcast the custom `vite-script-loaded` event so that we know that this module has loaded\n// Needed because when <script> tags are appended to the DOM, the `onload` handlers\n// are not executed, which happens in the field Settings page, and in slideouts\n// Do this after the document is ready to ensure proper execution order\n$(document).ready(function () {\n  const e = new CustomEvent('vite-script-loaded', {detail: {path: '../src/web/assets/src/js/OptimizedImagesField.js'}});\n  document.dispatchEvent(e);\n});\n"],"names":["humanFileSize","bytes","si","dp","thresh","units","u","r","imageLoaded","image","url","iTime","elem","$","window","document","pluginName","defaults","Plugin","element","options","images","event","id","inputNamePrefix","index","value","$value","menuBtn","option","$blocks","$option","container","$block","variantIndex","elements","str","disabledDeleteItem","menuItem","ev","$target","x","y","custom","field","menu","e"],"mappings":"AAwBA,SAASA,EAAcC,EAAOC,EAAK,GAAOC,EAAK,EAAG,CAChD,MAAMC,EAASF,EAAK,IAAO,KAE3B,GAAI,KAAK,IAAID,CAAK,EAAIG,EACpB,OAAOH,EAAQ,KAGjB,MAAMI,EAAQH,EACV,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,IAAI,EAC/C,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,KAAK,EAC3D,IAAII,EAAI,GACR,MAAMC,EAAI,IAAMJ,EAEhB,GACEF,GAASG,EACT,EAAEE,QACK,KAAK,MAAM,KAAK,IAAIL,CAAK,EAAIM,CAAC,EAAIA,GAAKH,GAAUE,EAAID,EAAM,OAAS,GAG7E,OAAOJ,EAAM,QAAQE,CAAE,EAAI,IAAME,EAAMC,CAAC,CAC1C,CAOA,SAASE,EAAYC,EAAO,CAC1B,MAAMC,EAAMD,EAAM,KAAOA,EAAM,KAC/B,GAAIC,GAAOA,EAAI,OAAS,EAAG,CACzB,MAAMC,EAAQ,YAAY,iBAAiBD,CAAG,EAAE,CAAC,EACjD,GAAI,OAAOC,EAAU,IAAa,CAChC,MAAMC,EAAOH,EAAM,WAAW,WAAW,WAAW,mBAAmB,cAAc,eAAe,EAChGG,IACFA,EAAK,UAAYZ,EAAcW,EAAM,gBAAiB,EAAI,EAE7D,CACF,CACH,EAEC,SAAUE,EAAGC,EAAQC,EAAU,CAE9B,MAAMC,EAAa,+BACjBC,EAAW,CAAA,EAGb,SAASC,EAAOC,EAASC,EAAS,CAChC,KAAK,QAAUD,EAEf,KAAK,QAAUN,EAAE,OAAO,CAAA,EAAII,EAAUG,CAAO,EAE7C,KAAK,UAAYH,EACjB,KAAK,MAAQD,EAEb,KAAK,KAAI,CACV,CAEDE,EAAO,UAAY,CAEjB,KAAM,UAAY,CAChBL,EAAE,UAAY,CAIZ,MAAMQ,EAASN,EAAS,iBAAiB,sBAAsB,EAC/D,UAAWN,KAASY,EACdZ,EAAM,SACRD,EAAYC,CAAK,EAEjBA,EAAM,iBAAiB,OAASa,GAAU,CACxCd,EAAYc,EAAM,MAAM,CACtC,CAAa,CAGb,CAAO,CACF,CACL,EAIET,EAAE,GAAGG,CAAU,EAAI,SAAUI,EAAS,CACpC,OAAO,KAAK,KAAK,UAAY,CACtBP,EAAE,KAAK,KAAM,UAAYG,CAAU,GACtCH,EAAE,KAAK,KAAM,UAAYG,EACvB,IAAIE,EAAO,KAAME,CAAO,CAAC,CAEnC,CAAK,CACL,CAEA,GAAG,EAAG,OAAQ,QAAQ,EAEtB,MAAM,qBAAuB,QAAQ,KAAK,OACxC,CACE,GAAI,KACJ,gBAAiB,KACjB,cAAe,KAEf,WAAY,KACZ,gBAAiB,KACjB,sBAAuB,KACvB,kBAAmB,KACnB,sBAAuB,KAEvB,UAAW,KACX,YAAa,KAEb,KAAM,SAAUG,EAAIC,EAAiB,CACnC,KAAK,GAAKD,EACV,KAAK,gBAAkBC,EACvB,KAAK,cAAgB,MAAM,cAAc,KAAK,eAAe,EAE7D,KAAK,WAAa,EAAE,IAAM,KAAK,EAAE,EACjC,KAAK,gBAAkB,KAAK,WAAW,SAAS,iBAAiB,EACjE,KAAK,sBAAwB,KAAK,WAAW,SAAS,UAAU,EAChE,KAAK,kBAAoB,KAAK,sBAAsB,SAAS,WAAW,EACxE,KAAK,sBAAwB,KAAK,kBAAkB,SAAS,MAAM,EAGnE,KAAK,gBAAgB,KAAK,0BAA0B,EAAE,KAAK,CAACC,EAAOC,IAAU,CAC3E,MAAMC,EAAS,EAAED,CAAK,EACtB,IAAIE,EACAD,EAAO,KAAK,SAAS,EACvBC,EAAUD,EAAO,KAAK,SAAS,EAE/BC,EAAU,IAAI,QAAQ,QAAQF,CAAK,EAErCE,EAAQ,KAAK,SAAS,eAAiB,EAAE,MAAM,SAAUC,EAAQ,CAC/D,KAAK,mBAAmBA,EAAQD,CAAO,CACxC,EAAE,IAAI,CACf,CAAO,EAED,MAAME,EAAU,KAAK,gBAAgB,SAAQ,EAE7C,KAAK,UAAY,IAAI,QAAQ,SAASA,EAAS,CAC7C,OAAQ,qBACR,KAAM,IACN,iBAAkB,GAClB,eAAgB,EAChB,cAAe,IACf,cAAe,GACf,aAAc,EAAE,MAAM,UAAY,CAChC,KAAK,uBAAsB,CAC5B,EAAE,IAAI,CACf,CAAO,EAED,KAAK,YAAY,KAAK,sBAAuB,QAAS,UAAY,CAChE,KAAK,gBAAgB,IAAI,CACjC,CAAO,EAED,KAAK,uBAAsB,EAC3B,KAAK,gBAAe,CACrB,EAED,mBAAoB,SAAUD,EAAQD,EAAS,CAC7C,MAAMG,EAAU,EAAEF,CAAM,EAClBG,EAAYJ,EAAQ,KAAK,QAAQ,cAAc,EAErD,OAAQG,EAAQ,KAAK,QAAQ,EAAC,CAC5B,IAAK,MAAO,CACV,KAAK,gBAAgBC,CAAS,EAC9B,KACD,CACD,IAAK,SAAU,CACRD,EAAQ,SAAS,UAAU,GAC9B,KAAK,mBAAmBC,CAAS,EAEnC,KACD,CACF,CACF,EAED,kBAAmB,SAAUC,EAAQ,CACnC,MAAO,CACL,QAAS,EACT,aAAc,CAAEA,EAAO,aAC/B,CACK,EAGD,gBAAiB,UAAY,CAC3B,KAAK,gBAAkB,KAAK,WAAW,SAAS,iBAAiB,EACjE,MAAMH,EAAU,KAAK,gBAAgB,SAAQ,EAC7CA,EAAQ,KAAK,SAAUL,EAAOC,EAAO,CACnC,MAAMQ,EAAeT,EAEfU,EADS,EAAET,CAAK,EACE,KAAK,kCAAkC,EAG/D,EAAES,CAAQ,EAAE,KAAK,SAAUV,EAAOC,EAAO,CAEvC,IAAIU,EAAM,EAAEV,CAAK,EAAE,KAAK,IAAI,EACxBU,IACFA,EAAMA,EAAI,QAAQ,cAAe,IAAMF,EAAe,GAAG,EACzD,EAAER,CAAK,EAAE,KAAK,KAAMU,CAAG,GAGzBA,EAAM,EAAEV,CAAK,EAAE,KAAK,KAAK,EACrBU,IACFA,EAAMA,EAAI,QAAQ,cAAe,IAAMF,EAAe,GAAG,EACzD,EAAER,CAAK,EAAE,KAAK,MAAOU,CAAG,GAG1BA,EAAM,EAAEV,CAAK,EAAE,KAAK,MAAM,EACtBU,IACFA,EAAMA,EAAI,QAAQ,eAAgB,IAAMF,EAAe,GAAG,EAC1D,EAAER,CAAK,EAAE,KAAK,OAAQU,CAAG,EAErC,CAAS,CACT,CAAO,EACD,IAAIC,EAAqB,GAErBP,EAAQ,QAAU,IACpBO,EAAqB,IAEvBP,EAAQ,KAAK,wBAAwB,EAAE,KAAK,SAAUL,EAAOC,EAAO,CAClE,MAAMC,EAAS,EAAED,CAAK,EACtB,IAAIE,EACJ,GAAID,EAAO,KAAK,SAAS,IACvBC,EAAUD,EAAO,KAAK,SAAS,EAC3B,OAAOC,EAAQ,KAAK,SAAa,KAAa,CAChD,IAAIU,EAAW,EAAEV,EAAQ,KAAK,SAAS,CAAC,CAAC,EACrC,OAAOU,EAAa,MAClBD,EACFC,EAAS,SAAS,UAAU,EAAE,QAAO,EAErCA,EAAS,YAAY,UAAU,EAAE,OAAM,EAG5C,CAEX,CAAO,CACF,EAED,uBAAwB,UAAY,CAClC,KAAK,YAAY,EAAE,cAAc,EAAG,QAAS,SAAUC,EAAI,CACzC,EAAEA,EAAG,MAAM,EACJ,QAAQ,cAAc,EACtC,KAAK,0BAA0B,EAAE,YAAW,CAC3D,CAAO,EACD,KAAK,YAAY,EAAE,mBAAmB,EAAG,QAAS,SAAUA,EAAI,CAC9D,MAAMC,EAAU,EAAED,EAAG,MAAM,EAC3B,IAAIE,EAAI,EAAEF,EAAG,MAAM,EAAE,KAAK,GAAG,EAC3BG,EAAI,EAAEH,EAAG,MAAM,EAAE,KAAK,GAAG,EACzBI,EAAS,EAAEJ,EAAG,MAAM,EAAE,KAAK,QAAQ,EACnCK,EAAOX,EAETA,EAASO,EAAQ,QAAQ,cAAc,EACvCP,EAAO,KAAK,mBAAmB,EAAE,KAAK,SAAUR,EAAOC,EAAO,CAC5D,EAAEA,CAAK,EAAE,YAAY,oBAAoB,CACnD,CAAS,EACDc,EAAQ,SAAS,oBAAoB,EAGjCG,EACFV,EAAO,KAAK,uBAAuB,EAAE,UAAS,GAE9CA,EAAO,KAAK,uBAAuB,EAAE,QAAO,EAC5CW,EAAQX,EAAO,KAAK,OAAO,EAAE,CAAC,EAC9B,EAAEW,CAAK,EAAE,IAAIH,CAAC,EACdG,EAAQX,EAAO,KAAK,OAAO,EAAE,CAAC,EAC9B,EAAEW,CAAK,EAAE,IAAIF,CAAC,EAExB,CAAO,CACF,EAED,gBAAiB,SAAUV,EAAW,CACpC,IAAIC,EAAS,EAAE,KAAK,gBAAgB,SAAQ,EAAG,CAAC,CAAC,EAAE,QAEnDA,EAAO,KAAK,mBAAmB,EAAE,KAAK,CAACR,EAAOC,IAAU,CAClDD,IAAU,EACZ,EAAEC,CAAK,EAAE,SAAS,oBAAoB,EAEtC,EAAEA,CAAK,EAAE,YAAY,oBAAoB,CAEnD,CAAO,EACDO,EAAO,KAAK,uBAAuB,EAAE,KAAI,EACzC,IAAIW,EAAQX,EAAO,KAAK,OAAO,EAAE,CAAC,EAClC,EAAEW,CAAK,EAAE,IAAI,IAAI,EACjBA,EAAQX,EAAO,KAAK,OAAO,EAAE,CAAC,EAC9B,EAAEW,CAAK,EAAE,IAAI,CAAC,EACdA,EAAQX,EAAO,KAAK,OAAO,EAAE,CAAC,EAC9B,EAAEW,CAAK,EAAE,IAAI,EAAE,EACfA,EAAQX,EAAO,KAAK,OAAO,EAAE,CAAC,EAC9B,EAAEW,CAAK,EAAE,IAAI,CAAC,EACdA,EAAQX,EAAO,KAAK,QAAQ,EAAE,CAAC,EAC/B,EAAEW,CAAK,EAAE,IAAI,EAAE,EACfA,EAAQX,EAAO,KAAK,QAAQ,EAAE,CAAC,EAC/B,EAAEW,CAAK,EAAE,IAAI,KAAK,EAClBX,EAAO,IAAI,KAAK,kBAAkBA,CAAM,CAAC,EAAE,SAAS,CAClD,QAAS,EACT,gBAAiB,EACzB,EAAS,OAAQ,EAAE,MAAM,UAAY,CAEzBD,EACFC,EAAO,aAAaD,CAAS,EAE7BC,EAAO,SAAS,KAAK,eAAe,EAGtC,KAAK,UAAU,SAASA,CAAM,EAC9B,KAAK,uBAAsB,EAC3BA,EAAO,KAAK,WAAW,EAAE,KAAK,CAACR,EAAOC,IAAU,CAC9C,IAAIC,EAAS,EAAED,CAAK,EAClBE,EACAiB,EAEFA,EAAO,KAAK,WAAW,KAAK,wBAAwB,EAAE,QACtD,EAAEA,CAAI,EAAE,YAAYlB,CAAM,EAC1BC,EAAU,IAAI,QAAQ,QAAQF,CAAK,EAEnCE,EAAQ,KAAK,SAAS,eAAiB,EAAE,MAAM,SAAUC,EAAQ,CAC/D,KAAK,mBAAmBA,EAAQD,CAAO,CACxC,EAAE,IAAI,CACjB,CAAS,EACD,KAAK,gBAAe,CAC5B,EAAS,IAAI,CAAC,CACT,EAED,mBAAoB,SAAUI,EAAW,CACvCA,EAAU,SAAS,KAAK,kBAAkBA,CAAS,EAAG,OAAQ,EAAE,MAAM,IAAM,CAC1EA,EAAU,OAAM,EAChB,KAAK,gBAAe,CAC5B,EAAS,IAAI,CAAC,CACT,EAED,uBAAwB,UAAY,CAClC,KAAK,gBAAe,CACrB,CACL,CAAG,EAaH,EAAE,QAAQ,EAAE,MAAM,UAAY,CAC5B,MAAMc,EAAI,IAAI,YAAY,qBAAsB,CAAC,OAAQ,CAAC,KAAM,kDAAkD,CAAC,CAAC,EACpH,SAAS,cAAcA,CAAC,CAC1B,CAAC"}